{"version":3,"sources":["webpack:///src/views/RouteLoading.vue","webpack:///./src/views/RouteLoading.vue?c98b","webpack:///./src/views/RouteLoading.vue","webpack:///./src/store/modules/cabinet.js","webpack:///./src/store/index.js","webpack:///src/layout/Breadcrumb.vue","webpack:///./src/layout/Breadcrumb.vue?dfb3","webpack:///./src/layout/Breadcrumb.vue","webpack:///./src/layout/AppMain.vue?dd6d","webpack:///./src/layout/AppMain.vue","webpack:///src/layout/index.vue","webpack:///src/layout/AppMain.vue","webpack:///./src/layout/index.vue?d96e","webpack:///./src/layout/index.vue","webpack:///./src/router/router.js","webpack:///./src/App.vue?018f","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/main.js","webpack:///./src/views lazy ^\\.\\/.*\\.vue$","webpack:///./src/api/cabinet.js","webpack:///./src/utils/request.js"],"names":["views_RouteLoading","render","this","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","_v","Component","__webpack_require__","normalizeComponent","name","ssrContext","__webpack_exports__","modules_cabinet","namespaced","state","cabinets","currentCabinetId","isAdmin","currentUser","CustomerOptions","mutations","SET_CABINETS","data","SET_CURRENT_CABINET","cabinetId","ADD_CABINET","cabinet","push","UPDATE_GRID","_ref","rowIndex","colIndex","find","c","id","gridData","_objectSpread","REMOVE_CABINET","filter","actions","fetchCabinetData","_ref2","_asyncToGenerator","_regenerator","m","_callee","commit","response","_t","w","_context","p","n","cabinetApi","getCabinetData","v","a","Error","message","addCabinet","_ref3","cabinetData","_callee2","_t2","_context2","deleteCabinet","_ref4","_callee3","_t3","_context3","updateGrid","_ref5","_ref6","_callee4","gridId","_gridId$split$map","_gridId$split$map2","_t4","_context4","split","map","part","includes","parseInt","replace","_slicedToArray","reserveCell","_ref7","_ref8","_callee5","_gridId$split$map3","_gridId$split$map4","_t5","_context5","status","cancelReservation","_ref9","_callee6","_gridId$split$map5","_gridId$split$map6","_t6","_context6","user","confirmBorrow","_ref0","_callee7","_gridId$split$map7","_gridId$split$map8","_t7","_context7","takeOutCell","_ref1","_ref10","_callee8","_gridId$split$map9","_gridId$split$map0","_t8","_context8","cancelTakenReserve","_ref11","_callee9","_gridId$split$map1","_gridId$split$map10","_t9","_context9","returnCell","_ref12","_callee0","_gridId$split$map11","_gridId$split$map12","_t0","_context0","getters","currentCabinet","Vue","use","Vuex","Store","modules","token","localStorage","getItem","menuTree","isCollapse","menuPosition","routeLoading","SET_TOKEN","setItem","SET_USER","JSON","stringify","SET_MENU_TREE","TOGGLE_COLLAPSE","SET_COLLAPSE","collapse","SET_MENU_POSITION","position","SET_ROUTE_LOADING","loading","LOGOUT","removeItem","login","menu_tree","fetchUserInfo","request","get","then","userData","catch","error","_error$response","logout","toggleCollapse","setCollapse","setMenuPosition","setRouteLoading","setUser","isLoggedIn","Breadcrumb","computed","breadcrumb","uniqueRoutes","Map","$route","matched","reduce","acc","route","meta","title","hideInBreadcrumb","has","path","set","methods","isCurrentRoute","item","layout_Breadcrumb","_vm","attrs","separator","_l","index","key","to","_s","layout_AppMain","mode","layout","components","AppMain","AppMain_normalizeComponent","RouteLoading","mapGetters","activeMenu","menuPositionClass","concat","isTopLevelLayout","isRootLayout","userName","_this$currentUser","username","mapActions","_defineProperty","toggleMenuPosition","newPosition","$store","dispatch","handleSelect","navigate","_this","$router","resolve","length","err","console","warn","setTimeout","keyPath","log","_this2","$confirm","confirmButtonText","cancelButtonText","type","handleLogout","$message","selectortype_template_index_0_src_layout","class","ref","default-active","background-color","text-color","active-text-color","router","on","select","menu","children","toString","scopedSlots","_u","fn","icon","proxy","child","grandchild","click","confirmLogout","collapsed","value","size","input","label","_e","$event","slot","main-container-top","src_layout","layout_normalizeComponent","VueRouter","routes","component","e","bind","hidden","Promise","base","process","BASE_URL","routeExists","getRoutes","some","addDynamicRoutes","removeRoute","layoutRoute","Layout","redirect","addRoutes","menuItems","parentRoute","arguments","undefined","level","forEach","leafRoute","isLeaf","addRoute","beforeEach","from","next","savedMenuTree","r","store","parse","_x","_x2","_x3","apply","selectortype_template_index_0_src_App","src_App","ElementUI","config","productionTip","h","App","$mount","./404.vue","./About.vue","./Dashboard.vue","./EmptyPage.vue","./Home.vue","./IntelligentCabinet/SmartCabinet.vue","./Login.vue","./Login202508211620.vue","./Login202508251610.vue","./NestedContainer.vue","./NestedContainer202508251610.vue","./RouteLoading.vue","webpackAsyncContext","req","ids","all","slice","reject","keys","Object","module","exports","url","method","headers","X-CSRFToken","Cookies","isGetData","newCabinet","gridinfo","__WEBPACK_IMPORTED_MODULE_0__utils_request__","__WEBPACK_IMPORTED_MODULE_1_js_cookie__","__WEBPACK_IMPORTED_MODULE_1_js_cookie___default","params","axios","defaults","withCredentials","service","create","baseURL","timeout","interceptors","endsWith","window","location","href"],"mappings":"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","file":"static/js/app.527c3904ee1a58ca324d.js","sourcesContent":["<template>\n  <div class=\"route-loading-container\">\n    <div class=\"loading-spinner\"></div>\n    <p>正在加载路由，请稍候...</p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'RouteLoading'\n}\n</script>\n\n<style scoped>\n.route-loading-container {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n  background-color: #f5f7fa;\n}\n\n.loading-spinner {\n  width: 50px;\n  height: 50px;\n  border: 5px solid #e0e0e0;\n  border-top: 5px solid #409eff;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 20px;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\np {\n  color: #606266;\n  font-size: 16px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/RouteLoading.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"route-loading-container\"},[_c('div',{staticClass:\"loading-spinner\"}),_vm._v(\" \"),_c('p',[_vm._v(\"正在加载路由，请稍候...\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f5f5b12\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/RouteLoading.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f5f5b12\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RouteLoading.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RouteLoading.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./RouteLoading.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f5f5b12\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./RouteLoading.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0f5f5b12\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/RouteLoading.vue\n// module id = null\n// module chunks = ","import { addCabinetAction as addCabinet } from '@/api/cabinet'\nimport { deleteCabinetAction as deleteCabinet } from '@/api/cabinet'\n\nconst state = {\n  cabinets: [],\n  currentCabinetId: null,\n  isAdmin: false,\n  currentUser: null,\n  CustomerOptions: []\n}\n\nconst mutations = {\n  SET_CABINETS: (state, data) => {\n    state.cabinets = data.cabinets\n    state.isAdmin = data.isAdmin\n    state.currentUser = data.currentUser\n    state.CustomerOptions = data.CustomerOptions\n  },\n  SET_CURRENT_CABINET: (state, cabinetId) => {\n    state.currentCabinetId = cabinetId\n  },\n  ADD_CABINET: (state, cabinet) => {\n    state.cabinets.push(cabinet)\n  },\n  UPDATE_GRID: (state, { cabinetId, rowIndex, colIndex, data }) => {\n    const cabinet = state.cabinets.find(c => c.id === cabinetId)\n    if (cabinet) {\n      cabinet.gridData[rowIndex][colIndex] = {\n        ...cabinet.gridData[rowIndex][colIndex],\n        ...data\n      }\n    }\n  },\n  REMOVE_CABINET: (state, cabinetId) => {\n    state.cabinets = state.cabinets.filter(c => c.id !== cabinetId)\n  }\n}\n\nconst actions = {\n  // 获取所有柜体数据\n  async fetchCabinetData({ commit }) {\n    try {\n      const response = await cabinetApi.getCabinetData()\n      commit('SET_CABINETS', response.data)\n      return response.data\n    } catch (error) {\n      throw new Error('获取柜体数据失败: ' + error.message)\n    }\n  },\n\n  // 添加新柜体\n  async addCabinet({ commit }, cabinetData) {\n    try {\n      const response = await cabinetApi.addCabinet(cabinetData)\n      commit('ADD_CABINET', response.data)\n      return response.data\n    } catch (error) {\n      throw new Error('添加柜体失败: ' + error.message)\n    }\n  },\n\n  // 删除柜体\n  async deleteCabinet({ commit }, cabinetId) {\n    try {\n      await cabinetApi.deleteCabinet(cabinetId)\n      commit('REMOVE_CABINET', cabinetId)\n    } catch (error) {\n      throw new Error('删除柜体失败: ' + error.message)\n    }\n  },\n\n  // 更新柜格信息\n  async updateGrid({ commit }, { gridId, data }) {\n    try {\n      const response = await cabinetApi.updateGrid(gridId, data)\n\n      // 从gridId解析柜体ID和位置信息\n      const [cabinetId, rowIndex, colIndex] = gridId.split('-').map(part => {\n        if (part.includes('row')) return parseInt(part.replace('row', ''))\n        if (part.includes('col')) return parseInt(part.replace('col', ''))\n        return parseInt(part)\n      })\n\n      commit('UPDATE_GRID', {\n        cabinetId,\n        rowIndex,\n        colIndex,\n        data: response.data\n      })\n      return response.data\n    } catch (error) {\n      throw new Error('更新柜格信息失败: ' + error.message)\n    }\n  },\n\n  // 用户预约柜格\n  async reserveCell({ commit }, { gridId, data }) {\n    try {\n      const response = await cabinetApi.reserveCell(gridId, data)\n\n      // 从gridId解析柜体ID和位置信息\n      const [cabinetId, rowIndex, colIndex] = gridId.split('-').map(part => {\n        if (part.includes('row')) return parseInt(part.replace('row', ''))\n        if (part.includes('col')) return parseInt(part.replace('col', ''))\n        return parseInt(part)\n      })\n\n      commit('UPDATE_GRID', {\n        cabinetId,\n        rowIndex,\n        colIndex,\n        data: { status: 2, ...response.data }\n      })\n      return response.data\n    } catch (error) {\n      throw new Error('预约柜格失败: ' + error.message)\n    }\n  },\n\n  // 取消预约\n  async cancelReservation({ commit }, gridId) {\n    try {\n      const response = await cabinetApi.cancelReservation(gridId)\n\n      // 从gridId解析柜体ID和位置信息\n      const [cabinetId, rowIndex, colIndex] = gridId.split('-').map(part => {\n        if (part.includes('row')) return parseInt(part.replace('row', ''))\n        if (part.includes('col')) return parseInt(part.replace('col', ''))\n        return parseInt(part)\n      })\n\n      commit('UPDATE_GRID', {\n        cabinetId,\n        rowIndex,\n        colIndex,\n        data: { status: 0, user: null, ...response.data }\n      })\n      return response.data\n    } catch (error) {\n      throw new Error('取消预约失败: ' + error.message)\n    }\n  },\n\n  // 确认借出\n  async confirmBorrow({ commit }, gridId) {\n    try {\n      const response = await cabinetApi.confirmBorrow(gridId)\n\n      // 从gridId解析柜体ID和位置信息\n      const [cabinetId, rowIndex, colIndex] = gridId.split('-').map(part => {\n        if (part.includes('row')) return parseInt(part.replace('row', ''))\n        if (part.includes('col')) return parseInt(part.replace('col', ''))\n        return parseInt(part)\n      })\n\n      commit('UPDATE_GRID', {\n        cabinetId,\n        rowIndex,\n        colIndex,\n        data: { status: 1, ...response.data }\n      })\n      return response.data\n    } catch (error) {\n      throw new Error('确认借出失败: ' + error.message)\n    }\n  },\n\n  // 取出保留\n  async takeOutCell({ commit }, { gridId, data }) {\n    try {\n      const response = await cabinetApi.takeOutCell(gridId, data)\n\n      // 从gridId解析柜体ID和位置信息\n      const [cabinetId, rowIndex, colIndex] = gridId.split('-').map(part => {\n        if (part.includes('row')) return parseInt(part.replace('row', ''))\n        if (part.includes('col')) return parseInt(part.replace('col', ''))\n        return parseInt(part)\n      })\n\n      commit('UPDATE_GRID', {\n        cabinetId,\n        rowIndex,\n        colIndex,\n        data: { status: 3, ...response.data }\n      })\n      return response.data\n    } catch (error) {\n      throw new Error('取出保留失败: ' + error.message)\n    }\n  },\n\n  // 取消保留\n  async cancelTakenReserve({ commit }, gridId) {\n    try {\n      const response = await cabinetApi.cancelTakenReserve(gridId)\n\n      // 从gridId解析柜体ID和位置信息\n      const [cabinetId, rowIndex, colIndex] = gridId.split('-').map(part => {\n        if (part.includes('row')) return parseInt(part.replace('row', ''))\n        if (part.includes('col')) return parseInt(part.replace('col', ''))\n        return parseInt(part)\n      })\n\n      commit('UPDATE_GRID', {\n        cabinetId,\n        rowIndex,\n        colIndex,\n        data: { status: 0, user: null, ...response.data }\n      })\n      return response.data\n    } catch (error) {\n      throw new Error('取消保留失败: ' + error.message)\n    }\n  },\n\n  // 归还柜格\n  async returnCell({ commit }, gridId) {\n    try {\n      const response = await cabinetApi.returnCell(gridId)\n\n      // 从gridId解析柜体ID和位置信息\n      const [cabinetId, rowIndex, colIndex] = gridId.split('-').map(part => {\n        if (part.includes('row')) return parseInt(part.replace('row', ''))\n        if (part.includes('col')) return parseInt(part.replace('col', ''))\n        return parseInt(part)\n      })\n\n      commit('UPDATE_GRID', {\n        cabinetId,\n        rowIndex,\n        colIndex,\n        data: { status: 0, user: null, ...response.data }\n      })\n      return response.data\n    } catch (error) {\n      throw new Error('归还柜格失败: ' + error.message)\n    }\n  }\n}\n\nconst getters = {\n  cabinets: state => state.cabinets,\n  currentCabinetId: state => state.currentCabinetId,\n  isAdmin: state => state.isAdmin,\n  currentUser: state => state.currentUser,\n  CustomerOptions: state => state.CustomerOptions,\n  currentCabinet: state => {\n    return state.cabinets.find(c => c.id === state.currentCabinetId) || {}\n  }\n}\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions,\n  getters\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/cabinet.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport request from '@/utils/request'\nimport cabinet from './modules/cabinet'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  modules: {\n    cabinet\n  },\n  state: {\n    token: localStorage.getItem('token') || '',\n    user: null,\n    menuTree: [], // 用于存储菜单数据\n    isCollapse: false, // 导航栏是否折叠\n    menuPosition: 'left', // 菜单位置，left（左侧）或top（顶部）\n    routeLoading: false // 路由加载状态\n  },\n  mutations: {\n    // 同步更新状态的方法\n    SET_TOKEN(state, token) {\n      state.token = token\n      localStorage.setItem('token', token)\n    },\n    SET_USER(state, user) {\n      state.user = user\n      localStorage.setItem('user', JSON.stringify(user));\n    },\n    SET_MENU_TREE(state, menuTree) {\n      state.menuTree = menuTree\n      // 添加localStorage持久化\n      localStorage.setItem('menuTree', JSON.stringify(menuTree));\n    },\n    TOGGLE_COLLAPSE(state) {\n      state.isCollapse = !state.isCollapse\n    },\n    SET_COLLAPSE(state, collapse) {\n      state.isCollapse = collapse\n    },\n    SET_MENU_POSITION(state, position) {\n      state.menuPosition = position\n    },\n    SET_ROUTE_LOADING(state, loading) {\n      state.routeLoading = loading\n    },\n    LOGOUT(state) {\n      state.token = ''\n      state.user = null\n      state.menuTree = []\n      state.isCollapse = false // 重置折叠状态\n      state.menuPosition = 'left' // 重置菜单位置\n      state.routeLoading = false // 重置路由加载状态\n      localStorage.removeItem('token')\n      localStorage.removeItem('menuTree')\n    }\n  },\n  actions: {\n    // 异步操作和业务逻辑\n    login({ commit }, { token, user }) {\n      commit('SET_TOKEN', token)\n      commit('SET_USER', user)\n      commit('SET_MENU_TREE', user.menu_tree || [])\n    },\n    fetchUserInfo({ commit }) {\n  return request.get('/api/userinfo/').then(response => { // 改为GET请求\n    const userData = response.data;\n    const menuTree = userData.menu_tree || [];\n\n    commit('SET_USER', userData);\n    commit('SET_MENU_TREE', menuTree);\n    localStorage.setItem('menuTree', JSON.stringify(menuTree));\n  }).catch(error => {\n    if (error.response?.status === 401) {\n      localStorage.removeItem('token');\n    }\n    throw error;\n  });\n},\n    logout({ commit }) {\n      commit('LOGOUT')\n    },\n    toggleCollapse({ commit }) {\n      commit('TOGGLE_COLLAPSE')\n    },\n    setCollapse({ commit }, collapse) {\n      commit('SET_COLLAPSE', collapse)\n    },\n    setMenuPosition({ commit }, position) {\n      commit('SET_MENU_POSITION', position)\n    },\n    setRouteLoading({ commit }, loading) {\n      commit('SET_ROUTE_LOADING', loading)\n    },\n    // 更新用户信息的 action\n    setUser({ commit }, user) {\n      commit('SET_USER', user)\n    }\n  },\n  getters: {\n    // 计算属性\n    isLoggedIn: state => !!state.token,\n    currentUser: state => state.user,\n    menuTree: state => state.menuTree,\n    isCollapse: state => state.isCollapse,\n    menuPosition: state => state.menuPosition,\n    routeLoading: state => state.routeLoading\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","<template>\n  <el-breadcrumb separator=\"/\" class=\"breadcrumb\">\n    <el-breadcrumb-item\n      v-for=\"(item, index) in breadcrumb\"\n      :key=\"index\"\n      :to=\"isCurrentRoute(item) ? null : item.path\"\n    >\n      {{ item.meta.title }}\n    </el-breadcrumb-item>\n  </el-breadcrumb>\n</template>\n\n<script>\nexport default {\n  computed: {\n    breadcrumb() {\n      const uniqueRoutes = new Map();\n      return this.$route.matched.reduce((acc, route) => {\n        if (!route.meta || !route.meta.title || route.meta.hideInBreadcrumb)\n          return acc;\n\n        if (!uniqueRoutes.has(route.path)) {\n          uniqueRoutes.set(route.path, true);\n          acc.push(route);\n        }\n        return acc;\n      }, []);\n    }\n  },\n  methods: {\n    isCurrentRoute(item) {\n      return this.$route.path === item.path;\n    }\n  }\n}\n</script>\n\n<style scoped>\n.breadcrumb {\n  margin-left: 20px;\n  line-height: 50px;\n}\n\n.el-breadcrumb__item:last-child .el-breadcrumb__inner {\n  color: #606266;\n  cursor: default;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/layout/Breadcrumb.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-breadcrumb',{staticClass:\"breadcrumb\",attrs:{\"separator\":\"/\"}},_vm._l((_vm.breadcrumb),function(item,index){return _c('el-breadcrumb-item',{key:index,attrs:{\"to\":_vm.isCurrentRoute(item) ? null : item.path}},[_vm._v(\"\\n    \"+_vm._s(item.meta.title)+\"\\n  \")])}),1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d2509412\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/layout/Breadcrumb.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d2509412\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Breadcrumb.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Breadcrumb.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Breadcrumb.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d2509412\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Breadcrumb.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d2509412\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/layout/Breadcrumb.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"app-main\"},[_c('transition',{attrs:{\"name\":\"fade-transform\",\"mode\":\"out-in\"}},[_c('router-view',{key:_vm.key})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-abc9c808\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/layout/AppMain.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-abc9c808\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AppMain.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AppMain.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AppMain.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-abc9c808\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AppMain.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-abc9c808\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/layout/AppMain.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"app-wrapper\" :class=\"menuPositionClass\">\n    <!-- 顶部菜单模式 -->\n    <div v-if=\"menuPosition === 'top'\" class=\"top-menu-container\" ref=\"topMenu\">\n      <el-menu\n        :default-active=\"activeMenu\"\n        class=\"el-menu-demo\"\n        mode=\"horizontal\"\n        background-color=\"#545c64\"\n        text-color=\"#fff\"\n        active-text-color=\"#ffd04b\"\n        @select=\"handleSelect\"\n        router\n      >\n        <el-menu-item index=\"/dashboard\">\n          <i class=\"el-icon-dashboard\"></i>\n          <span>控制面板</span>\n        </el-menu-item>\n\n        <template v-for=\"menu in menuTree\">\n          <template v-if=\"menu.children && menu.children.length\">\n            <el-submenu :key=\"menu.id\" :index=\"menu.id.toString()\">\n              <template #title>\n                <i :class=\"menu.icon\"></i>\n                <span>{{ menu.title }}</span>\n              </template>\n              <template v-for=\"child in menu.children\">\n                <el-menu-item\n                  v-if=\"!child.children || !child.children.length\"\n                  :key=\"child.id\"\n                  :index=\"child.path\"\n                >\n                  <i :class=\"child.icon\"></i>\n                  <span>{{ child.title }}</span>\n                </el-menu-item>\n                <el-submenu\n                  v-else\n                  :key=\"child.id\"\n                  :index=\"child.id.toString()\"\n                >\n                  <template #title>\n                    <i :class=\"child.icon\"></i>\n                    <span>{{ child.title }}</span>\n                  </template>\n                  <el-menu-item\n                    v-for=\"grandchild in child.children\"\n                    :key=\"grandchild.id\"\n                    :index=\"grandchild.path\"\n                  >\n                    <span>{{ grandchild.title }}</span>\n                  </el-menu-item>\n                </el-submenu>\n              </template>\n            </el-submenu>\n          </template>\n          <el-menu-item v-else :key=\"menu.id\" :index=\"menu.path\">\n            <i :class=\"menu.icon\"></i>\n            <span>{{ menu.title }}</span>\n          </el-menu-item>\n        </template>\n        <!-- 添加顶部菜单注销按钮 -->\n\n          <!-- 修改：将用户名和注销整合到下拉菜单 -->\n        <el-submenu index=\"user-menu\" class=\"user-submenu\">\n          <template #title>\n            <i class=\"el-icon-user\"></i>\n            <span>{{ userName }}</span>\n          </template>\n          <el-menu-item @click=\"confirmLogout\">\n            <i class=\"el-icon-switch-button\"></i>\n            <span>注销</span>\n          </el-menu-item>\n        </el-submenu>\n      </el-menu>\n    </div>\n\n    <!-- 左侧菜单模式 -->\n    <div v-else class=\"sidebar-container\" :class=\"{'collapsed': isCollapse}\">\n      <div class=\"collapse-control\" v-if=\"menuPosition === 'left'\">\n        <el-radio-group :value=\"isCollapse\" @input=\"setCollapse\" size=\"mini\">\n          <el-radio-button :label=\"false\">展开</el-radio-button>\n          <el-radio-button :label=\"true\">收起</el-radio-button>\n        </el-radio-group>\n      </div>\n\n      <el-menu\n        :default-active=\"activeMenu\"\n        class=\"el-menu-vertical-demo\"\n        :collapse=\"isCollapse\"\n        background-color=\"#304156\"\n        text-color=\"#bfcbd9\"\n        active-text-color=\"#409EFF\"\n      >\n        <el-menu-item index=\"/dashboard\" @click=\"navigate('/dashboard')\">\n          <i class=\"el-icon-dashboard\"></i>\n          <span slot=\"title\">控制面板</span>\n        </el-menu-item>\n\n        <template v-for=\"menu in menuTree\">\n          <template v-if=\"menu.children && menu.children.length\">\n            <el-submenu :key=\"menu.id\" :index=\"menu.id.toString()\">\n              <template #title>\n                <i :class=\"menu.icon\"></i>\n                <span slot=\"title\">{{ menu.title }}</span>\n              </template>\n              <template v-for=\"child in menu.children\">\n                <el-menu-item\n                  v-if=\"!child.children || !child.children.length\"\n                  :key=\"child.id\"\n                  :index=\"child.path\"\n                  @click=\"navigate(child.path)\"\n                >\n                  <i :class=\"child.icon\"></i>\n                  <span>{{ child.title }}</span>\n                </el-menu-item>\n                <el-submenu\n                  v-else\n                  :key=\"child.id\"\n                  :index=\"child.id.toString()\"\n                >\n                  <template #title>\n                    <i :class=\"child.icon\"></i>\n                    <span>{{ child.title }}</span>\n                  </template>\n                  <el-menu-item\n                    v-for=\"grandchild in child.children\"\n                    :key=\"grandchild.id\"\n                    :index=\"grandchild.path\"\n                    @click=\"navigate(grandchild.path)\"\n                  >\n                    <span>{{ grandchild.title }}</span>\n                  </el-menu-item>\n                </el-submenu>\n              </template>\n            </el-submenu>\n          </template>\n          <el-menu-item\n            v-else\n            :key=\"menu.id\"\n            :index=\"menu.path\"\n            @click=\"navigate(menu.path)\"\n          >\n            <i :class=\"menu.icon\"></i>\n            <span slot=\"title\">{{ menu.title }}</span>\n          </el-menu-item>\n        </template>\n        <!-- 修改：将用户信息改为子菜单 -->\n        <el-submenu index=\"user-menu\" class=\"user-submenu\">\n          <template #title>\n            <i class=\"el-icon-user\"></i>\n            <span slot=\"title\">{{ userName }}</span>\n          </template>\n          <el-menu-item @click=\"confirmLogout\">\n            <i class=\"el-icon-switch-button\"></i>\n            <span>注销</span>\n          </el-menu-item>\n        </el-submenu>\n      </el-menu>\n    </div>\n\n    <!-- 主内容区域 -->\n    <div class=\"main-container\" :class=\"{'main-container-top': menuPosition === 'top'}\">\n      <div v-if=\"isTopLevelLayout\" class=\"navbar\">\n        <breadcrumb />\n        <div class=\"right-menu\">\n          <el-button size=\"mini\" @click=\"toggleMenuPosition\">\n            {{ menuPosition === 'left' ? '切换顶部菜单' : '切换侧边菜单' }}\n          </el-button>\n        </div>\n      </div>\n\n      <div v-if=\"$store.state.routeLoading\" class=\"route-loading-overlay\">\n        <route-loading />\n      </div>\n      <app-main v-else />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport Breadcrumb from './Breadcrumb'\nimport AppMain from './AppMain'\nimport RouteLoading from '@/views/RouteLoading'\n\nexport default {\n  name: 'Layout',\n  components: { Breadcrumb, AppMain, RouteLoading },\n  computed: {\n    // mapGetters(['user'])从 Vuex store 中获取数据,对应store/index.js里面的getters里面的\n    ...mapGetters(['menuTree', 'isCollapse', 'menuPosition', 'currentUser']),\n    activeMenu() {\n      return this.$route.path\n    },\n    menuPositionClass() {\n      return `menu-${this.menuPosition}`\n    },\n    isTopLevelLayout() {\n      const matched = this.$route.matched;\n      return matched[0] && matched[0].meta && matched[0].meta.isRootLayout === true;\n    },\n    // 获取用户名称\n    userName() {\n      //console.log(\"this.user\", this.user)\n      return this.currentUser ?.username || '用户';\n    }\n  },\n  methods: {\n    ...mapActions(['setCollapse', 'setRouteLoading']),\n    toggleMenuPosition() {\n      const newPosition = this.menuPosition === 'left' ? 'top' : 'left'\n      this.$store.dispatch('setMenuPosition', newPosition)\n      if (newPosition === 'left' && this.isCollapse) {\n        this.setCollapse(false)\n      }\n    },\n\n    handleSelect(path) {\n      this.navigate(path);\n    },\n\n    navigate(path) {\n      if (this.$route.path === path) return;\n\n      if (this.$router.resolve(path).route.matched.length) {\n        this.$router.push(path).catch(err => {\n          if (err.name !== 'NavigationDuplicated') console.error(err);\n        });\n      } else {\n        console.warn(`路由 ${path} 不存在`);\n        this.setRouteLoading(true);\n        setTimeout(() => this.$router.push('/dashboard'), 1000);\n      }\n    },\n    toggleCollapse() {\n      this.$store.commit('TOGGLE_COLLAPSE');\n    },\n    handleSelect(key, keyPath) {\n      console.log(key, keyPath);\n    },\n\n    // 添加确认弹框\n    confirmLogout() {\n      this.$confirm('确定要注销登录吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.handleLogout();\n      }).catch(() => {\n        // 取消操作\n      });\n    },\n    handleLogout() {\n      // 清除本地存储\n      localStorage.removeItem('token');\n      localStorage.removeItem('menuTree');\n      localStorage.removeItem('user');\n      // 重置 Vuex 状态\n      this.$store.commit('SET_MENU_TREE', []);\n      this.$store.commit('SET_TOKEN', null);\n      this.$store.commit('SET_USER', null);\n\n      // 跳转到登录页面\n      this.$router.push('/login');\n      this.$message({\n        type: 'success',\n        message: '注销成功!'\n      });\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* 全局重置 */\nbody, html {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n  overflow: hidden;\n}\n\n.app-wrapper {\n  display: flex;\n  height: 100vh;\n  flex-direction: column;\n}\n\n/* 顶部菜单样式 - 修复留白问题 */\n.top-menu-container {\n  width: 100%;\n  z-index: 1001;\n  background-color: #545c64;\n  position: sticky; /* 使用粘性定位 */\n  top: 0; /* 固定在顶部 */\n  transition: height 0.3s ease; /* 添加高度过渡效果 */\n}\n\n/* 侧边菜单样式保持不变 */\n.sidebar-container {\n  width: 210px;\n  background: #304156;\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 1001;\n  display: flex;\n  flex-direction: column;\n  transition: width 0.3s;\n}\n\n.sidebar-container.collapsed {\n  width: 64px;\n}\n\n.collapse-control {\n  padding: 10px;\n  background: #304156;\n  border-bottom: 1px solid #434d5b;\n}\n\n.main-container {\n  flex: 1;\n  overflow: auto;\n  transition: margin-left 0.3s;\n  margin-left: 210px;\n  position: relative;\n  height: calc(100vh - 50px); /* 确保高度计算正确 */\n}\n\n.route-loading-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(255, 255, 255, 0.8);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.sidebar-container.collapsed + .main-container {\n  margin-left: 64px;\n}\n\n.main-container-top {\n  margin-left: 0 !important;\n  margin-top: 0 !important; /* 移除固定间距 */\n}\n\n.app-wrapper.menu-top {\n  flex-direction: column;\n}\n\n.navbar {\n  height: 50px;\n  border-bottom: 1px solid #e6e6e6;\n  display: flex;\n  align-items: center;\n  padding: 0 20px;\n  position: relative;\n  z-index: 10;\n  background-color: #fff; /* 添加背景色 */\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05); /* 添加轻微阴影 */\n}\n\n.right-menu {\n  margin-left: auto;\n  margin-right: 20px;\n}\n\n.el-menu-vertical-demo {\n  border-right: none;\n  flex: 1;\n  width: 100% !important;\n}\n\n.el-menu-vertical-demo:not(.el-menu--collapse) {\n  width: 100% !important;\n}\n\n.el-menu--collapse .el-submenu__title span,\n.el-menu--collapse .el-submenu__title .el-submenu__icon-arrow,\n.el-menu--collapse .el-menu-item span,\n.el-menu--collapse .el-menu-item i {\n  display: none;\n}\n\n/* 新增样式 */\n.app-wrapper {\n  position: relative;\n  height: 100%;\n  width: 100%;\n}\n\n/* 修复顶部菜单右侧区域 */\n.top-menu-right {\n  margin-left: auto;\n  display: flex;\n  align-items: center;\n  margin-right: 20px;\n}\n\n.user-name {\n  color: #fff;\n  margin-right: 15px;\n  font-size: 14px;\n}\n\n.logout-button {\n  color: #409EFF !important;\n  padding: 0 10px;\n  font-size: 14px;\n}\n\n.logout-button:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\n/* 左侧菜单样式 */\n.sidebar-container {\n  position: fixed;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  z-index: 1001;\n  width: 210px;\n  height: 100%;\n  transition: width 0.3s;\n  background-color: #304156;\n}\n\n.sidebar-container.collapsed {\n  width: 64px;\n}\n\n.toggle-button {\n  height: 40px;\n  line-height: 40px;\n  text-align: center;\n  color: #fff;\n  background-color: #263445;\n  cursor: pointer;\n}\n\n/* 左侧菜单底部样式 */\n.sidebar-bottom {\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  background-color: #304156;\n  border-top: 1px solid #434d5b;\n}\n\n.user-info {\n  padding: 12px 20px;\n  color: #bfcbd9;\n  display: flex;\n  align-items: center;\n}\n\n.user-info i {\n  margin-right: 8px;\n  font-size: 16px;\n}\n\n.logout-menu-item {\n  border-top: 1px solid #434d5b;\n  background-color: #304156 !important;\n  color: #bfcbd9 !important;\n}\n\n.logout-menu-item:hover {\n  background-color: #263445 !important;\n  color: #409EFF !important;\n}\n\n/* 折叠状态下调整样式 */\n.sidebar-container.collapsed .sidebar-bottom {\n  width: 64px;\n}\n\n.sidebar-container.collapsed .user-info,\n.sidebar-container.collapsed .logout-menu-item span {\n  display: none;\n}\n\n/* 主内容区域 */\n.main-container {\n  min-height: 100%;\n  transition: margin-left 0.3s;\n  margin-left: 210px;\n  position: relative;\n}\n\n.sidebar-container.collapsed + .main-container {\n  margin-left: 64px;\n}\n\n/* 修复顶部菜单留白 */\n.menu-top .main-container {\n  margin-top: 0 !important;\n  padding-top: 0 !important;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/layout/index.vue","<template>\n  <section class=\"app-main\">\n    <transition name=\"fade-transform\" mode=\"out-in\">\n      <router-view :key=\"key\" />\n    </transition>\n  </section>\n</template>\n\n<script>\nexport default {\n  name: 'AppMain',\n  computed: {\n    key() {\n      return this.$route.path\n    }\n  }\n}\n</script>\n\n<style scoped>\n.app-main {\n  min-height: calc(100vh - 50px);\n  padding: 20px;\n  position: relative;\n  overflow: hidden;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/layout/AppMain.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-wrapper\",class:_vm.menuPositionClass},[(_vm.menuPosition === 'top')?_c('div',{ref:\"topMenu\",staticClass:\"top-menu-container\"},[_c('el-menu',{staticClass:\"el-menu-demo\",attrs:{\"default-active\":_vm.activeMenu,\"mode\":\"horizontal\",\"background-color\":\"#545c64\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\",\"router\":\"\"},on:{\"select\":_vm.handleSelect}},[_c('el-menu-item',{attrs:{\"index\":\"/dashboard\"}},[_c('i',{staticClass:\"el-icon-dashboard\"}),_vm._v(\" \"),_c('span',[_vm._v(\"控制面板\")])]),_vm._v(\" \"),_vm._l((_vm.menuTree),function(menu){return [(menu.children && menu.children.length)?[_c('el-submenu',{key:menu.id,attrs:{\"index\":menu.id.toString()},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('i',{class:menu.icon}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(menu.title))])]},proxy:true}],null,true)},[_vm._v(\" \"),_vm._l((menu.children),function(child){return [(!child.children || !child.children.length)?_c('el-menu-item',{key:child.id,attrs:{\"index\":child.path}},[_c('i',{class:child.icon}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(child.title))])]):_c('el-submenu',{key:child.id,attrs:{\"index\":child.id.toString()},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('i',{class:child.icon}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(child.title))])]},proxy:true}],null,true)},[_vm._v(\" \"),_vm._l((child.children),function(grandchild){return _c('el-menu-item',{key:grandchild.id,attrs:{\"index\":grandchild.path}},[_c('span',[_vm._v(_vm._s(grandchild.title))])])})],2)]})],2)]:_c('el-menu-item',{key:menu.id,attrs:{\"index\":menu.path}},[_c('i',{class:menu.icon}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(menu.title))])])]}),_vm._v(\" \"),_c('el-submenu',{staticClass:\"user-submenu\",attrs:{\"index\":\"user-menu\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.userName))])]},proxy:true}],null,false,3749482772)},[_vm._v(\" \"),_c('el-menu-item',{on:{\"click\":_vm.confirmLogout}},[_c('i',{staticClass:\"el-icon-switch-button\"}),_vm._v(\" \"),_c('span',[_vm._v(\"注销\")])])],1)],2)],1):_c('div',{staticClass:\"sidebar-container\",class:{'collapsed': _vm.isCollapse}},[(_vm.menuPosition === 'left')?_c('div',{staticClass:\"collapse-control\"},[_c('el-radio-group',{attrs:{\"value\":_vm.isCollapse,\"size\":\"mini\"},on:{\"input\":_vm.setCollapse}},[_c('el-radio-button',{attrs:{\"label\":false}},[_vm._v(\"展开\")]),_vm._v(\" \"),_c('el-radio-button',{attrs:{\"label\":true}},[_vm._v(\"收起\")])],1)],1):_vm._e(),_vm._v(\" \"),_c('el-menu',{staticClass:\"el-menu-vertical-demo\",attrs:{\"default-active\":_vm.activeMenu,\"collapse\":_vm.isCollapse,\"background-color\":\"#304156\",\"text-color\":\"#bfcbd9\",\"active-text-color\":\"#409EFF\"}},[_c('el-menu-item',{attrs:{\"index\":\"/dashboard\"},on:{\"click\":function($event){return _vm.navigate('/dashboard')}}},[_c('i',{staticClass:\"el-icon-dashboard\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"控制面板\")])]),_vm._v(\" \"),_vm._l((_vm.menuTree),function(menu){return [(menu.children && menu.children.length)?[_c('el-submenu',{key:menu.id,attrs:{\"index\":menu.id.toString()},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('i',{class:menu.icon}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(menu.title))])]},proxy:true}],null,true)},[_vm._v(\" \"),_vm._l((menu.children),function(child){return [(!child.children || !child.children.length)?_c('el-menu-item',{key:child.id,attrs:{\"index\":child.path},on:{\"click\":function($event){return _vm.navigate(child.path)}}},[_c('i',{class:child.icon}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(child.title))])]):_c('el-submenu',{key:child.id,attrs:{\"index\":child.id.toString()},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('i',{class:child.icon}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(child.title))])]},proxy:true}],null,true)},[_vm._v(\" \"),_vm._l((child.children),function(grandchild){return _c('el-menu-item',{key:grandchild.id,attrs:{\"index\":grandchild.path},on:{\"click\":function($event){return _vm.navigate(grandchild.path)}}},[_c('span',[_vm._v(_vm._s(grandchild.title))])])})],2)]})],2)]:_c('el-menu-item',{key:menu.id,attrs:{\"index\":menu.path},on:{\"click\":function($event){return _vm.navigate(menu.path)}}},[_c('i',{class:menu.icon}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(menu.title))])])]}),_vm._v(\" \"),_c('el-submenu',{staticClass:\"user-submenu\",attrs:{\"index\":\"user-menu\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('i',{staticClass:\"el-icon-user\"}),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.userName))])]},proxy:true}])},[_vm._v(\" \"),_c('el-menu-item',{on:{\"click\":_vm.confirmLogout}},[_c('i',{staticClass:\"el-icon-switch-button\"}),_vm._v(\" \"),_c('span',[_vm._v(\"注销\")])])],1)],2)],1),_vm._v(\" \"),_c('div',{staticClass:\"main-container\",class:{'main-container-top': _vm.menuPosition === 'top'}},[(_vm.isTopLevelLayout)?_c('div',{staticClass:\"navbar\"},[_c('breadcrumb'),_vm._v(\" \"),_c('div',{staticClass:\"right-menu\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.toggleMenuPosition}},[_vm._v(\"\\n          \"+_vm._s(_vm.menuPosition === 'left' ? '切换顶部菜单' : '切换侧边菜单')+\"\\n        \")])],1)],1):_vm._e(),_vm._v(\" \"),(_vm.$store.state.routeLoading)?_c('div',{staticClass:\"route-loading-overlay\"},[_c('route-loading')],1):_c('app-main')],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-124b9eef\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/layout/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-124b9eef\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-124b9eef\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-124b9eef\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/layout/index.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Layout from '@/layout'\nimport store from '@/store'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/login',\n    name: 'Login',\n    component: () => import('@/views/Login.vue'),\n    hidden: true\n  },\n  {\n    path: '/404',\n    component: () => import('@/views/404.vue'),\n    name: 'NotFound',\n    hidden: true\n  },\n  {\n    path: '/route-loading',\n    component: () => import('@/views/RouteLoading.vue'),\n    name: 'RouteLoading',\n    hidden: true\n  },\n  /*{\n    path: '/',\n    redirect: '/dashboard',\n    meta: { hideInBreadcrumb: true }\n  },\n  {\n    path: '*',\n    redirect: '/404',\n    meta: { hideInBreadcrumb: true }\n  }//加了这两个，刷新页面后就会跳到404\n*/\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nfunction routeExists(name) {\n  return router.getRoutes().some(route => route.name === name)\n}\n\nexport function addDynamicRoutes(menuTree) {\n  if (routeExists('Wildcard')) {\n    try {\n      router.removeRoute('Wildcard')\n    } catch (e) {\n      console.warn('移除通配符路由失败', e)\n    }\n  }\n\n  const layoutRoute = {\n    path: '/',\n    component: Layout,\n    redirect: '/dashboard',\n    name: 'Layout',\n    meta: {\n      isRootLayout: true,\n      hideInBreadcrumb: true\n    },\n    children: [\n      {\n        path: '/dashboard',\n        component: () => import('@/views/Dashboard.vue'),\n        name: 'Dashboard',\n        meta: { title: '控制面板', icon: 'dashboard' }\n      }\n    ]\n  }\n\n  const addRoutes = (menuItems, parentRoute = null, level = 0) => {\n    menuItems.forEach(item => {\n      if (item.children && item.children.length) {\n        const route = {\n          path: item.path || `/menu-${item.id}`,\n          component: level === 0 ?\n            () => import('@/views/NestedContainer.vue') :\n            null,\n          name: `Menu_${item.id}`,\n          meta: {\n            title: item.title,\n            icon: item.icon,\n            hideInBreadcrumb: level > 0\n          },\n          redirect: item.children[0].path,\n          children: []\n        }\n\n        if (parentRoute) {\n          parentRoute.children.push(route)\n        } else {\n          layoutRoute.children.push(route)\n        }\n\n        addRoutes(item.children, route, level + 1)\n      }\n      else if (item.path) {\n        console.log(item,item.component,item.path)\n        const leafRoute = {\n          path: item.path,\n          component: () => import(`@/views/${item.component || 'EmptyPage'}.vue`),\n          name: `Page_${item.id}`,\n          meta: {\n            // title: item.title,\n            icon: item.icon,\n            isLeaf: true\n          }\n        }\n\n        if (parentRoute) {\n          parentRoute.children.push(leafRoute)\n        } else {\n          layoutRoute.children.push(leafRoute)\n        }\n      }\n    })\n  }\n\n  addRoutes(menuTree)\n\n  if (routeExists('Layout')) {\n    try {\n      router.removeRoute('Layout')\n    } catch (e) {\n      console.warn('移除旧布局路由失败', e)\n    }\n  }\n\n  router.addRoute(layoutRoute)\n  router.addRoute({\n    path: '*',\n    redirect: '/404',\n    name: 'Wildcard',\n    hidden: true\n  })\n  //console.log('动态路由添加完成', JSON.stringify(router.getRoutes()))\n  console.log('动态路由添加完成', router.getRoutes())\n}\n\nrouter.beforeEach(async (to, from, next) => {\n  console.log(`路由跳转: ${from.path} → ${to.path}`)\n  console.log('路由匹配记录:', to.matched.map(r => r.path))\n  console.log('路由名称:', to.matched.map(r => r.name))\n  const noAuthPages = ['/login', '/404', '/route-loading']\n  if (noAuthPages.includes(to.path)) return next()\n\n  if (!localStorage.getItem('token')) return next('/login')\n\n  if (store.state.menuTree.length === 0) {\n    try {\n      const savedMenuTree = JSON.parse(localStorage.getItem('menuTree') || '[]');\n      // 添加此处：打印从localStorage读取的menuTree\n      console.log('从localStorage读取的menuTree:', JSON.stringify(savedMenuTree));\n      if (savedMenuTree.length) {\n        store.commit('SET_MENU_TREE', savedMenuTree);\n        addDynamicRoutes(savedMenuTree);\n        return next(to.path);\n      }\n\n      await store.dispatch('fetchUserInfo');\n      // 添加此处：打印从API获取的menuTree\n      console.log('从API获取的menuTree:', store.state.menuTree);\n      addDynamicRoutes(store.state.menuTree);\n    } catch (error) {\n      console.error('路由加载失败:', error);\n      localStorage.removeItem('token');\n      return next('/login');\n    }\n  }\n\n  if (to.matched.length === 0) {\n    console.warn(`路由未匹配: ${to.path}`)\n    return next('/404')\n  }\n\n  next()\n})\n\nexport default router\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/router.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-429e3d79\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-429e3d79\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-429e3d79\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n/* 全局样式 */\nbody, html {\n  margin: 0;\n  padding: 0;\n  height: 100%;\n}\n#app {\n  height: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router/router'\nimport store from './store'\nimport 'core-js/stable';\n\n// 引入 Element UI\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\n\nVue.use(ElementUI)\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app')\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var map = {\n\t\"./404.vue\": [\n\t\t\"+H76\",\n\t\t0\n\t],\n\t\"./About.vue\": [\n\t\t\"vu9I\",\n\t\t10\n\t],\n\t\"./Dashboard.vue\": [\n\t\t\"npFY\",\n\t\t2\n\t],\n\t\"./EmptyPage.vue\": [\n\t\t\"U29U\",\n\t\t4\n\t],\n\t\"./Home.vue\": [\n\t\t\"j7e0\",\n\t\t9\n\t],\n\t\"./IntelligentCabinet/SmartCabinet.vue\": [\n\t\t\"DHAS\",\n\t\t7\n\t],\n\t\"./Login.vue\": [\n\t\t\"lmfZ\",\n\t\t3\n\t],\n\t\"./Login202508211620.vue\": [\n\t\t\"GvSF\",\n\t\t6\n\t],\n\t\"./Login202508251610.vue\": [\n\t\t\"cGQG\",\n\t\t5\n\t],\n\t\"./NestedContainer.vue\": [\n\t\t\"WImY\",\n\t\t1\n\t],\n\t\"./NestedContainer202508251610.vue\": [\n\t\t\"D6ep\",\n\t\t8\n\t],\n\t\"./RouteLoading.vue\": [\n\t\t\"HBgd\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"Opzk\";\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views lazy ^\\.\\/.*\\.vue$\n// module id = Opzk\n// module chunks = 12","import request from '@/utils/request'\nimport Cookies from 'js-cookie'  // 新增\n\n\n// 获取所有柜体数据\nexport function getCabinetData(params) {\n  return request({\n    url: '/IntelligentCabinet/init-data/',\n    method: 'get',\n    params: params // 使用 params 而不是 data\n    // data: data // 使用 params 而不是 data\n  })\n}\n\n// 添加柜体\nexport function addCabinetAction(data) {\n  return request({\n    url: '/IntelligentCabinet/cabinets/',\n    method: 'post',\n    headers: {\n      'X-CSRFToken': Cookies.get('csrftoken')  // 关键：添加CSRF token，Django默认要求所有非安全的HTTP方法（如POST、PUT、PATCH、DELETE）都需要提供CSRF token\n    },\n    data: {\n      isGetData: 'addCabinet',\n      newCabinet: data\n    }\n  })\n}\n\n// 删除柜体\nexport function deleteCabinetAction(cabinetId) {\n  return request({\n    url: `/IntelligentCabinet/cabinets/${cabinetId}/`,\n    method: 'delete',\n    headers: {\n      'X-CSRFToken': Cookies.get('csrftoken')  // 关键：添加CSRF token，Django默认要求所有非安全的HTTP方法（如POST、PUT、PATCH、DELETE）都需要提供CSRF token\n    },\n    data: {\n      isGetData: 'deleteCabinet'\n    }\n  })\n}\n\n// 更新柜格信息，包括管理员编辑柜格信息，取出保留，取消保留，归还柜格。其实其他涉及柜格信息变更的动作也可以用这个接口，包括用户预约柜格，取消预约，确认借出\nexport function updateGrid(cabinet, data) {\n  return request({\n    url: `/IntelligentCabinet/grids/${cabinet}/update/`,\n    method: 'patch',\n    headers: {\n      'X-CSRFToken': Cookies.get('csrftoken')  // 关键：添加CSRF token，Django默认要求所有非安全的HTTP方法（如POST、PUT、PATCH、DELETE）都需要提供CSRF token\n    },\n    data: {\n      isGetData: 'updategrid',\n      cabinet: cabinet,\n      gridinfo: data\n    }\n  })\n}\n\n// 用户预约柜格\nexport function reserveCell(gridId, data) {\n  return request({\n    url: `/IntelligentCabinet/grids/${gridId}/reserve/`,\n    method: 'post',\n    headers: {\n      'X-CSRFToken': Cookies.get('csrftoken')  // 关键：添加CSRF token，Django默认要求所有非安全的HTTP方法（如POST、PUT、PATCH、DELETE）都需要提供CSRF token\n    },\n    data\n  })\n}\n\n// 取消预约\nexport function cancelReservation(gridId, data) {\n  return request({\n    url: `/IntelligentCabinet/grids/${gridId}/cancel-reserve/`,\n    method: 'post',\n    headers: {\n      'X-CSRFToken': Cookies.get('csrftoken')  // 关键：添加CSRF token，Django默认要求所有非安全的HTTP方法（如POST、PUT、PATCH、DELETE）都需要提供CSRF token\n    },\n    data\n  })\n}\n\n// 确认借出\nexport function confirmBorrow(gridId, data) {\n  return request({\n    url: `/IntelligentCabinet/grids/${gridId}/confirm-borrow/`,\n    method: 'post',\n    headers: {\n      'X-CSRFToken': Cookies.get('csrftoken')  // 关键：添加CSRF token，Django默认要求所有非安全的HTTP方法（如POST、PUT、PATCH、DELETE）都需要提供CSRF token\n    },\n    data\n  })\n}\n\n// 获取所有柜体数据 (兼容旧代码)\nexport function getCabinets() {\n  return getCabinetData()\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/cabinet.js","import axios from 'axios'\naxios.defaults.withCredentials = true;\n\n// 在文件顶部添加以下辅助函数\nfunction redirectToLogin() {\n  localStorage.removeItem('token');\n  localStorage.removeItem('menuTree');\n  window.location.href = '/login';\n}\n\n// 创建 axios 实例\n/*1.localhost被视为特殊域名​：\n浏览器将 localhost视为比普通域名更敏感的域名\n出于安全考虑，许多浏览器在跨源请求 localhost时会默认阻止发送 Cookie​\n这种行为在 Chrome 等现代浏览器中特别明显\n2.​127.0.0.1被视为标准 IP 地址​：\n浏览器将 IP 地址视为普通域名\n当您使用 127.0.0.1时，浏览器会正常处理跨域 Cookie*/\nconst service = axios.create({\n  baseURL: 'http://127.0.0.1:8000', // 使用环境变量\n  withCredentials: true, // 关键：发送请求时携带cookie\n  timeout: 5000\n})\n\n// 请求拦截器\nservice.interceptors.request.use(config => {\n  // 确保始终携带凭证\n    config.withCredentials = true\n  // 如果是登录请求，不添加 token\n  if (config.url.endsWith('/login/')) {\n    return config;\n  }\n\n  const token = localStorage.getItem('token');\n  console.log(token,'utils/resquest');\n  if (token) {\n    config.headers['Authorization'] = `Bearer ${token}`;\n  }\n\n  return config;\n});\n\n// 在响应拦截器中处理401错误\nservice.interceptors.response.use(\n  response => response,\n  error => {\n    console.log(\"error.message\", error.message)\n    const status = error.response?.status;\n    if (status === 401 ||\n        (error.message.includes('401') ||\n         error.message.includes('Unauthorized'))) {\n      redirectToLogin();\n    }\n    return Promise.reject(error);\n  }\n\n);\n\nexport default service\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/request.js"],"sourceRoot":""}